<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Ballard Brief Map</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
        
        <style>
          /* Style the map container */
          #map {
            height: 600px;
            width: 100%;
            max-width: 1100px;
            margin: 2rem auto;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
          }
      
          /* Optional: Smooth body font */
          body {
            font-family: 'Inter', Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
      
          /* Match popup text styling to site */
          .leaflet-popup-content {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            line-height: 1.4;
          }
      
          .leaflet-popup-content a {
            color: #0d6efd; /* Matches your site's primary blue */
            text-decoration: underline;
          }
        </style>
      </head>
<body>

<h2>Ballard Brief World Map</h2>
<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script>
// Initialize map with boundaries to stop infinite horizontal scrolling
var map = L.map('map', {
  worldCopyJump: false,
  maxBounds: [
    [-85, -180], // Southwest corner
    [85, 180]    // Northeast corner
  ],
  maxBoundsViscosity: 1.0
}).setView([20, 0], 2);

  // Add OpenStreetMap tiles
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/">CARTO</a>',
    subdomains: 'abcd',
    maxZoom: 19
}).addTo(map);

  // Sample data - replace with your actual briefs
  const briefs = [
    {
      location: "Africa",
      lat: 1.6508,
      lng: 17.6791,
      briefs: [
        { title: "Female Genital Cutting in Africa", url: "https://ballardbrief.byu.edu/issue-briefs/female-genital-cutting-in-africa" }
      ]
    },
    {
      location: "United States",
      lat: 39.8283,
      lng: -98.5795,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" },
        { title: "BriefTitle", url: "httpsTypeUrl" },
        { title: "BriefTitle", url: "httpsTypeUrl" },
        { title: "BriefTitle", url: "httpsTypeUrl" },
        { title: "BriefTitle", url: "httpsTypeUrl" },
      ]
    },
    {
      location: "India",
      lat: 20.5937,
      lng: 78.9629,
      briefs: [
        { title: "Sexual Assault Against Women in India", url: "https://ballardbrief.byu.edu/issue-briefs/sexual-assault-against-women-in-india" },
        { title: "Healthcare Access in Rural Communities in India", url: "https://ballardbrief.byu.edu/issue-briefs/healthcare-access-in-rural-communities-in-india" },
        { title: "Educational Disparities Among Girls in India", url: "https://ballardbrief.byu.edu/issue-briefs/educational-disparities-among-girls-in-india" },
        { title: "Violence Against Muslims in India", url: "https://ballardbrief.byu.edu/issue-briefs/violence-against-muslims-in-india" },
        { title: "Son Preference in India", url: "https://ballardbrief.byu.edu/issue-briefs/son-preference-in-india" },
      ]
    },
    {
      location: "Middle East",
      lat: 29.2985,
      lng: 47.9939,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Ghana",
      lat: 7.9465,
      lng: -1.0232,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Kenya",
      lat: -0.0236,
      lng: 37.9062,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Malawi",
      lat: -13.2543,
      lng: 34.3015,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Northern Ireland",
      lat: 54.7877,
      lng: -6.4923,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "China",
      lat: 35.8617,
      lng: 104.1954,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Cambodia",
      lat: 12.5657,
      lng: 104.991,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Tanzania",
      lat: -6.369,
      lng: 34.8888,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Jordan River Valley",
      lat: 31.8881,
      lng: 35.5642,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Venezuela",
      lat: 6.4238,
      lng: -66.5897,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "South Africa",
      lat: -30.5595,
      lng: 22.9375,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Eastern Europe",
      lat: 48.669,
      lng: 19.699,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Southeast Asia",
      lat: 13.4443,
      lng: 144.7937,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Armenia",
      lat: 40.0691,
      lng: 45.0382,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Brazil",
      lat: -14.235,
      lng: -51.9253,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Peru",
      lat: -9.19,
      lng: -75.0152,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "France",
      lat: 46.6034,
      lng: 1.8883,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Hawaii, United States",
      lat: 19.8968,
      lng: -155.5828,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Mediterranean Sea",
      lat: 34.5531,
      lng: 18.048,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    }, {
      location: "Orlando, Florida, United States",
      lat: 28.5383,
      lng: -81.3792,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    }, 
    // starthere
    {
      location: "Utah, United States",
      lat: 39.32,
      lng: -111.0937,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    }, 
    {
      location: "Sub-Saharan Africa",
      lat: -1.9577,
      lng: 30.1127,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Indonesia",
      lat: -0.7893,
      lng: 113.9213,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Uganda",
      lat: 1.3733,
      lng: 32.2903,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Pacific Islands",
      lat: -6.315,
      lng: 160.37,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Global",
      lat: 0,
      lng: 0,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Xinjiang (China)",
      lat: 41.2044,
      lng: 85.6534,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Mozambique",
      lat: -18.6657,
      lng: 35.5296,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Myanmar",
      lat: 21.9162,
      lng: 95.956,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Tonga",
      lat: -21.1789,
      lng: -175.1982,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Philippines",
      lat: 13.41,
      lng: 122.56,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Korea",
      lat: 35.9078,
      lng: 127.7669,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
    {
      location: "Yemen",
      lat: 15.5527,
      lng: 48.5164,
      briefs: [
        { title: "BriefTitle", url: "httpsTypeUrl" }
      ]
    },
  ];

  // Add markers
  briefs.forEach(loc => {
    const popupContent = `
      <strong>${loc.location}</strong><br>
      ${loc.briefs.map(b => `<a href="${b.url}" target="_blank">${b.title}</a>`).join("<br>")}
    `;
    L.marker([loc.lat, loc.lng]).addTo(map)
      .bindPopup(popupContent);
  });
</script>

</body>
</html>